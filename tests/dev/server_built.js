let isHydrating=!1;isHydrating=!0;var core_default=(middlewares,handlers,children)=>[middlewares,handlers,,children];let compileHandlerHook,compileErrorHandlerHook,compiledDependencies=[],externalDependencies=[],cache={},exportedDepsCnt=0,injectExternalDependency=e=>"_"+externalDependencies.push(e),noOp=()=>"",macro=f=>[-1,f],text=(macro(noOp),noOp),get=(path,handler,dat)=>["GET",path,handler,dat],_=Symbol.for("@safe-std/error"),IS_ERR_FN=((e,v)=>{let b=Symbol();return()=>cache[b]??=e(v)})(injectExternalDependency,u=>Array.isArray(u)&&u[0]===_),AsyncFunction=(async()=>{}).constructor,compileErrorHandler=(input,scope)=>scope[3]??=compileErrorHandlerHook(input,scope[2][0],scope[2][1],scope),clearErrorHandler=scope=>{null!=scope[2]&&(scope[3]=null)},createContext=scope=>(scope[1]||(scope[1]=!0,clearErrorHandler(scope)),""),createAsyncScope=scope=>(scope[0]||(scope[0]=!0,clearErrorHandler(scope)),""),setTmp=scope=>(scope[4]=!0,""),hydrateDependency=(group,scope,prefix)=>{null!=group[2]&&(scope[2]=group[2],scope[3]=null);for(let i=0,middlewares=group[0];i<middlewares.length;i++){let middleware=middlewares[i],fn=middleware[1],id=middleware[0];-1===id?fn(scope):(injectExternalDependency(fn),fn.length>0&&createContext(scope),fn instanceof AsyncFunction&&createAsyncScope(scope),1===id?createContext(scope):2===id?(setTmp(scope),IS_ERR_FN(),compileErrorHandler("t",scope)):3===id&&(setTmp(scope),IS_ERR_FN(),compileErrorHandler("t",scope),createContext(scope)))}for(let i=0,handlers=group[1];i<handlers.length;i++){let handler=handlers[i];compileHandlerHook(handler,"",prefix+("/"===handler[1]||""!==prefix?"":handler[1]),scope)}let childGroups=group[3];if(null!=childGroups)for(let childPrefix in childGroups)hydrateDependency(childGroups[childPrefix],scope.slice(),"/"===childPrefix?prefix:prefix+childPrefix)};macro(createContext);var f,router,api_default=core_default([],[get("/",()=>"Hi",{type:text})]);router=core_default([(f=()=>performance.now(),[1,f,"id"])],[get("/path",c=>""+c.id,{type:text})],{"/api":api_default}),compileHandlerHook=(handler,_$1,_1,scope)=>{let fn=handler[2];injectExternalDependency(fn),handler[3]?.type?.("",scope[1]||fn.length>(path=>{let cnt=path.endsWith("**")?2:0;for(let i=path.length-cnt;-1!==(i=path.lastIndexOf("*",i-1));cnt++);return cnt})(handler[1]))},compileErrorHandlerHook=(_$1,fn,dat,scope)=>(injectExternalDependency(fn),dat?.type?.("",scope[1]||fn.length>1),""),hydrateDependency(router,[!1,!1,,"",!1],""),exportedDepsCnt++,((_$1,_1,_2,_3)=>{new Response(null,{status:404}),new Response(null,{status:400}),_$1.push({"/path":{GET:(r,s)=>{let c={status:200,req:r,headers:[],server:s};return c.id=_1(),new Response(_2(c),c)}},"/api":{GET:(r,s)=>{let c={status:200,req:r,headers:[],server:s};return c.id=_1(),new Response(_3(),c)}}})})(...(()=>{let r=[compiledDependencies].concat(externalDependencies);return externalDependencies.length=0,cache={},exportedDepsCnt=0,r})());var server_built_default={routes:compiledDependencies[0]};export{server_built_default as default};